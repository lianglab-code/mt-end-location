%% Test
ng = 20;
% 1
% g = rand(1,ng);
% 2
% g = 1:ng;
% 3
g = ones(1,ng);
r = 3;

x = 1:ng;
plot(x,g,'ro--');
grid on;
hold on;

g2 = filter_minmax_1d(g,'min',r);
plot(x,g2,'ko-');
plot(reshape(repmat(x,[3,1]),[1,3*ng]),...
    reshape([g;g2;nan(1,ng)],[1,3*ng]),'b-');

g3 = filter_minmax_1d(g,'max',r);
plot(x,g3,'ko-');
plot(reshape(repmat(x,[3,1]),[1,3*ng]),...
     reshape([g;g3;nan(1,ng)],[1,3*ng]),'g-');
